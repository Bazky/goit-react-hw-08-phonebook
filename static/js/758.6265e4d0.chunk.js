"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[758],{758:(e,t,n)=>{n.r(t),n.d(t,{default:()=>v});var a=n(791),s=n(434),o=n(32);const r="ContactForm_contactForm__y0Rca",c="ContactForm_containerForm__s0x-h",l="ContactForm_input__Bl93P",i="ContactForm_button__form__g3dJs";var d=n(184);const u=()=>{const e=(0,s.v9)((e=>e.phonebook.contacts)),t=(0,s.I0)(),[n,u]=(0,a.useState)(""),[m,h]=(0,a.useState)("");return(0,d.jsx)("div",{className:r,children:(0,d.jsxs)("form",{className:c,onSubmit:a=>{if(a.preventDefault(),""!==n.trim()){e.find((e=>e.name.toLowerCase()===n.toLowerCase()))?alert("".concat(n," is already in contacts.")):(t((0,o.uK)({name:n.trim(),number:m.trim()})),u(""),h(""))}},children:[(0,d.jsx)("label",{children:"Name"}),(0,d.jsx)("input",{type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces.",required:!0,value:n,onChange:e=>{u(e.target.value)},className:l}),(0,d.jsx)("label",{children:"Number"}),(0,d.jsx)("input",{type:"tel",name:"number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,value:m,onChange:e=>{h(e.target.value)},className:l}),(0,d.jsx)("button",{className:i,type:"submit",children:"Add contact"})]})})},m="ContactList_button__list__Om+n5",h=e=>{let{onDeleteContact:t}=e;const n=(0,s.v9)((e=>e.phonebook.contacts)),a=(0,s.v9)((e=>e.phonebook.filter)),o=n.filter((e=>e.name.toLowerCase().includes(a.toLowerCase())));return(0,d.jsx)("div",{children:(0,d.jsx)("ul",{children:o.map((e=>(0,d.jsxs)("li",{children:[e.name,": ",e.number,(0,d.jsx)("button",{className:m,onClick:()=>t(e.id),children:"Delete"})]},e.id)))})})},p=()=>{const e=(0,s.v9)((e=>e.phonebook.filter)),t=(0,s.I0)();return(0,d.jsx)("div",{children:(0,d.jsx)("input",{type:"text",name:"filter",placeholder:"Search contacts...",value:e,onChange:e=>{t((0,o.Tv)(e.target.value))}})})};var x=n(876);const j=()=>{const{isLoggedIn:e,user:t}=(0,x.a)(),n=(0,s.I0)();return(0,d.jsxs)("div",{children:[e&&(0,d.jsx)("p",{children:t.user.email}),e&&(0,d.jsx)("button",{onClick:async()=>{try{await n((0,o.kS)())}catch(e){console.error("Logout failed:",e.message)}},children:"Logout"})]})};function v(){const e=(0,s.I0)(),t=(0,s.v9)((e=>e.contacts)),n=(0,s.v9)((e=>e.filter));(0,a.useEffect)((()=>{e((0,o.yF)()),e((0,o.Vk)())}),[e]);return(0,d.jsxs)("div",{children:[(0,d.jsx)(j,{}),(0,d.jsx)("h1",{children:"Phonebook"}),(0,d.jsx)(u,{contacts:t,onAddContact:t=>{e((0,o.uK)(t))}}),(0,d.jsx)("h2",{children:"Contacts"}),(0,d.jsx)("h5",{children:"Find contacts by name"}),(0,d.jsx)(p,{filter:n,onFilterChange:t=>{e((0,o.Tv)(t.target.value))}}),(0,d.jsx)(h,{onDeleteContact:t=>{e((0,o.GK)(t))}})]})}}}]);
//# sourceMappingURL=758.6265e4d0.chunk.js.map